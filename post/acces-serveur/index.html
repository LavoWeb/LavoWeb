<!DOCTYPE html><html class=no-js lang=fr-fr><head lang=fr-fr><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><meta http-equiv=X-UA-Compatible content="IE=10"><title>Gérer ses accès serveurs</title><link rel=canonical href="http://lavoweb.net/post/acces-serveur/"><meta property=og:url content="http://lavoweb.net/"><meta property=og:title content="Gérer ses accès serveurs"><meta property=og:image content=http://lavoweb.net/images/referencement_magento_grand.png><meta name=apple-mobile-web-app-title content="Gérer ses accès serveurs"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><link rel="shortcut icon" type=image/x-icon href=http://lavoweb.net/favicon_referencement_magento.png><link rel=icon type=image/x-icon href=http://lavoweb.net/favicon_referencement_magento.png><link rel=stylesheet href=http://lavoweb.net/stylesheets/style.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono"><meta name=generator content="Hugo 0.38-DEV"></head><body class="palette-primary-red palette-accent-teal"><div class=backdrop><div class=backdrop-paper></div></div><input class=toggle type=checkbox id=toggle-drawer> <label class="toggle-button overlay" for=toggle-drawer></label><header class=header><nav aria-label=Header><div class="bar default"><div class="button button-menu" role=button aria-label=Menu><label class="toggle-button icon icon-menu" for=toggle-drawer><span></span></label></div><div class=stretch><div class=title>Agence Web Magento - LavoWeb</div></div><div class="button button-twitter" role=button aria-label=Twitter><a href=https://twitter.com/LavoWeb title="@LavoWeb on Twitter" target=_blank class="toggle-button icon icon-twitter"></a></div><div class="button button-github" role=button aria-label=GitHub><a href=https://github.com/LavoWeb title="@LavoWeb on GitHub" target=_blank class="toggle-button icon icon-github"></a></div></div></nav></header><main class=main><div class=drawer><nav aria-label=Navigation><a href="http://lavoweb.net/" class=project><div class=banner><div class=logo><img src=http://lavoweb.net/images/developpement-magento.png alt="Agence Magento"></div><div class=name><strong>Agence Web Magento - LavoWeb</strong></div></div></a><div class=scrollable><div class=wrapper><div class=toc><ul><li><a title="Agence Web" href="http://lavoweb.net/">Agence Web</a></li><li><a title="Développement Magento" href="http://lavoweb.net/developpement/">Développement Magento</a></li><li><a title="Hébergement Magento" href="http://lavoweb.net/hebergement/">Hébergement Magento</a></li><li><a title="Hébergement Magento" href="http://lavoweb.net/referencement/">Référencement e-commerce</a></li><li><a class=current title=Articles href="http://lavoweb.net/post/">Articles</a><ul id=scrollspy></ul></li></ul><hr><span class=section>L'entreprise</span><ul><li><a href=mailto:aurelien@lavoweb.net title="Email of aurelien@lavoweb.net">Contacter via email</a></li></ul></div></div></div></nav></div><article class=article><div class=wrapper><div class="section section-content" id=section-content><div class=title-block><h1 class=title-big>Gérer ses accès serveurs</h1></div><div class=container><div class=row><div class="col-md-12 about-info"><p>Quand on commence à avoir beaucoup de serveurs à gérer, il devient urgent d’avoir une bonne politique pour gérer les connexions. C’est compliqué de retenir x mots de passe donc il devient tentant de mettre plusieurs fois le même. Les clés ssh avec une bonne configuration sont ont bonne solution à ce problème.</p><h2 id=générer-une-clé-ssh>Générer une clé SSH</h2><pre><code>ssh-keygen -t dsa
</code></pre><p>Une bonne pratique est de mettre son email en commentaire de la clé publique, ça permets de savoir plus facilement qui a accès à quoi. Il faut toujours mettre une passphrase si c’est un environnement extérieur.</p><h2 id=autoriser-une-clé-sur-un-serveur>Autoriser une clé sur un serveur</h2><pre><code>ssh-copy-id -i ~/.ssh/server_dsa.pub aurelien@example.net -p 2222
</code></pre><h2 id=associé-les-clés-à-un-serveur>Associé les clés à un serveur</h2><p>Créer le fichier ~/.ssh/config</p><pre><code>Host example example.lavoweb.net mycustomer 192.168.1.1
    HostName example.net
    Port 2222
    User aurelien
    IdentityFile ~/.ssh/server_dsa
    LocalForward 3307 127.0.0.1:3306
</code></pre><p>Ici, il suffira de taper dans la console ssh example pour se connecter au serveur et non plus ssh aurelien@exemple.net -p 2222 -i ~/.ssh/server_dsa. C’est un gain de temps non négligeable. Vous pouvez vous générer une clé par environnement et par exemple avoir un login sans mot de passe sur vos instances locales.</p><p>On peut mettre autant d’alias qu’on a envie, c’est pratique ! En général je mets le nom du serveur, l’alias via un de mes domaines, le nom du client et l’ip du serveur.</p><p>Si j’ai envie de faire un tunnel ssh, je peux utiliser la directive LocalForward et rajouter dans ma commande ssh -f -N ou encore me créer un alias de ce type :</p><pre><code>alias ssht=’ssh -f -N’
</code></pre><p>C’est pratique pour accéder à un serveur SQL, monit, Solr &amp; bien d’autres applis.</p></div></div><div class=row><div class="col-md-12 about-info"></div></div></div></div><aside class=copyright role=note>&copy; 2018</aside><footer class=footer><div><p>Agence Web sur Annecy, Bourget-du-Lac, Chambéry et <a href="https://lumao.eu/">Genève</a>. 835 305 657 R.C.S. ANNECY</p></div></footer></div></article><div class=results role=status aria-live=polite><div class=scrollable><div class=wrapper><div class=meta></div><div class=list></div></div></div></div></main><script>

    var base_url = '';
    var repo_id  = '';

</script><script src=http://lavoweb.net/javascripts/scripts.min.js></script><script>
     
    var headers   = document.getElementsByTagName("h2");
    var scrollspy = document.getElementById('scrollspy');

    if(scrollspy) {
        if(headers.length > 0) {
            for(var i = 0; i < headers.length; i++) {
                var li = document.createElement("li");
                li.setAttribute("class", "anchor");

                var a  = document.createElement("a");
                a.setAttribute("href", "#" + headers[i].id);
                a.setAttribute("title", headers[i].innerHTML);
                a.innerHTML = headers[i].innerHTML;

                li.appendChild(a)
                scrollspy.appendChild(li);
            }
        } else {
            scrollspy.parentElement.removeChild(scrollspy)
        }


         
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
    }
</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>